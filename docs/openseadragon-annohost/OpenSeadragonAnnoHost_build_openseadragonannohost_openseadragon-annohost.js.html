<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>OpenSeadragonImaging Source: OpenSeadragonAnnoHost/build/openseadragonannohost/openseadragon-annohost.js</title>
    
    <link type="text/css" rel="stylesheet" href="styles/highlight.js/default.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-openseadragonimaging.css">

    <!--[if lt IE 9]>
      <script src="scripts/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div id="container">
<div id="main">
    
    <h1 class="page-title">Source: OpenSeadragonAnnoHost/build/openseadragonannohost/openseadragon-annohost.js</h1>
    
    


    
    <section>
        <article>
            <pre class="source-code"><code><span id="line1" class="line"></span><span class="hljs-comment">//! openseadragon-annohost 2.0.0</span>
<span id="line2" class="line"></span><span class="hljs-comment">//! Build date: 2018-12-26</span>
<span id="line3" class="line"></span><span class="hljs-comment">//! Git commit: v2.0.0-0-5f43fcc-dirty</span>
<span id="line4" class="line"></span><span class="hljs-comment">//! https://github.com/msalsbery/OpenSeadragonAnnoHost</span>
<span id="line5" class="line"></span><span class="hljs-comment">/*
<span id="line6" class="line"></span> * Copyright (c) 2013-2014 Mark Salsbery
<span id="line7" class="line"></span> *
<span id="line8" class="line"></span> * Permission is hereby granted, free of charge, to any person obtaining a copy of
<span id="line9" class="line"></span> * this software and associated documentation files (the "Software"), to deal in
<span id="line10" class="line"></span> * the Software without restriction, including without limitation the rights to
<span id="line11" class="line"></span> * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
<span id="line12" class="line"></span> * the Software, and to permit persons to whom the Software is furnished to do so,
<span id="line13" class="line"></span> * subject to the following conditions:
<span id="line14" class="line"></span> *
<span id="line15" class="line"></span> * The above copyright notice and this permission notice shall be included in all
<span id="line16" class="line"></span> * copies or substantial portions of the Software.
<span id="line17" class="line"></span> *
<span id="line18" class="line"></span> * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
<span id="line19" class="line"></span> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
<span id="line20" class="line"></span> * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
<span id="line21" class="line"></span> * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
<span id="line22" class="line"></span> * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
<span id="line23" class="line"></span> * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
<span id="line24" class="line"></span> */</span>
<span id="line25" class="line"></span>
<span id="line26" class="line"></span><span class="hljs-comment">/* global OpenSeadragon */</span>
<span id="line27" class="line"></span>
<span id="line28" class="line"></span><span class="hljs-comment">/**
<span id="line29" class="line"></span> * @file
<span id="line30" class="line"></span> * @version  openseadragon-annohost 2.0.0
<span id="line31" class="line"></span> * @author Mark Salsbery &lt;msalsbery@hotmail.com&gt;
<span id="line32" class="line"></span> *
<span id="line33" class="line"></span> */</span>
<span id="line34" class="line"></span>
<span id="line35" class="line"></span><span class="hljs-comment">/**
<span id="line36" class="line"></span> * @module openseadragon-annohost
<span id="line37" class="line"></span> * @version  openseadragon-annohost 2.0.0
<span id="line38" class="line"></span> *
<span id="line39" class="line"></span> */</span>
<span id="line40" class="line"></span>
<span id="line41" class="line"></span>(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(OSD, $, undefined)</span> {</span>
<span id="line42" class="line"></span>	<span class="hljs-keyword">if</span> (!OSD.version || OSD.version.major &lt; <span class="hljs-number">1</span>) {
<span id="line43" class="line"></span>		<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(
<span id="line44" class="line"></span>			<span class="hljs-string">'OpenSeadragon.Annotations requires OpenSeadragon version 1.0.0+'</span>
<span id="line45" class="line"></span>		);
<span id="line46" class="line"></span>	}
<span id="line47" class="line"></span>
<span id="line48" class="line"></span>	<span class="hljs-comment">/**
<span id="line49" class="line"></span>	 * Creates a new AnnoHost attached to the viewer.
<span id="line50" class="line"></span>	 *
<span id="line51" class="line"></span>	 * @method activateAnnoHost
<span id="line52" class="line"></span>	 * @memberof external:"OpenSeadragon.Viewer"#
<span id="line53" class="line"></span>	 * @param {Object} options
<span id="line54" class="line"></span>	 * @param {external:OpenSeadragon.EventHandler} [options.onImageViewChanged] - {@link OpenSeadragonImaging.ImagingHelper.event:image-view-changed} handler method.
<span id="line55" class="line"></span>	 * @returns {OpenSeadragonImaging.AnnoHost}
<span id="line56" class="line"></span>	 *
<span id="line57" class="line"></span>	 **/</span>
<span id="line58" class="line"></span>	OSD.Viewer.prototype.activateAnnoHost = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(options)</span> {</span>
<span id="line59" class="line"></span>		<span class="hljs-keyword">if</span> (!this.annoHost) {
<span id="line60" class="line"></span>			options = options || {};
<span id="line61" class="line"></span>			options.viewer = <span class="hljs-keyword">this</span>;
<span id="line62" class="line"></span>			this.annoHost = <span class="hljs-keyword">new</span> $.AnnoHost(options);
<span id="line63" class="line"></span>		}
<span id="line64" class="line"></span>		<span class="hljs-keyword">return</span> this.annoHost;
<span id="line65" class="line"></span>	};
<span id="line66" class="line"></span>
<span id="line67" class="line"></span>	<span class="hljs-comment">/**
<span id="line68" class="line"></span>	 * Creates a new AnnoHost attached to the viewer instance passed in the options parameter.
<span id="line69" class="line"></span>	 *
<span id="line70" class="line"></span>	 * @class AnnoHost
<span id="line71" class="line"></span>	 * @classdesc Provides a framework for annotating OpenSeadragon images.
<span id="line72" class="line"></span>	 * @memberof OpenSeadragonImaging
<span id="line73" class="line"></span>	 * @extends OpenSeadragonImaging.ImagingHelper
<span id="line74" class="line"></span>	 * @param {Object} options
<span id="line75" class="line"></span>	 * @param {external:"OpenSeadragon.Viewer"} options.viewer - Required! Reference to OpenSeadragon viewer to attach to.
<span id="line76" class="line"></span>	 * @param {external:OpenSeadragon.EventHandler} [options.onImageViewChanged] - {@link OpenSeadragonImaging.ImagingHelper.event:image-view-changed} handler method.
<span id="line77" class="line"></span>	 *
<span id="line78" class="line"></span>	 **/</span>
<span id="line79" class="line"></span>	$.AnnoHost = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(options)</span> {</span>
<span id="line80" class="line"></span>		options = options || {};
<span id="line81" class="line"></span>
<span id="line82" class="line"></span>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> OSD.Viewer.prototype.activateImagingHelper !== <span class="hljs-string">'function'</span>) {
<span id="line83" class="line"></span>			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(
<span id="line84" class="line"></span>				<span class="hljs-string">'OpenSeadragon.Annotations.AnnoHost requires the OpenSeadragonImagingHelper plugin.'</span>
<span id="line85" class="line"></span>			);
<span id="line86" class="line"></span>		}
<span id="line87" class="line"></span>		<span class="hljs-keyword">if</span> (!$.ImagingHelper.version || $.ImagingHelper.version.major &lt; <span class="hljs-number">1</span>) {
<span id="line88" class="line"></span>			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(
<span id="line89" class="line"></span>				<span class="hljs-string">'OpenSeadragon.Annotations.AnnoHost requires OpenSeadragonImagingHelper plugin version 1.0.0+'</span>
<span id="line90" class="line"></span>			);
<span id="line91" class="line"></span>		}
<span id="line92" class="line"></span>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> OSD.Viewer.prototype.addViewerInputHook !== <span class="hljs-string">'function'</span>) {
<span id="line93" class="line"></span>			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(
<span id="line94" class="line"></span>				<span class="hljs-string">'OpenSeadragon.Annotations.AnnoHost requires the OpenSeadragonViewerInputHook plugin.'</span>
<span id="line95" class="line"></span>			);
<span id="line96" class="line"></span>		}
<span id="line97" class="line"></span>		<span class="hljs-keyword">if</span> (!$.ViewerInputHook.version || $.ViewerInputHook.version.major &lt; <span class="hljs-number">1</span>) {
<span id="line98" class="line"></span>			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(
<span id="line99" class="line"></span>				<span class="hljs-string">'OpenSeadragon.Annotations.AnnoHost requires OpenSeadragonViewerInputHook plugin version 1.0.0+'</span>
<span id="line100" class="line"></span>			);
<span id="line101" class="line"></span>		}
<span id="line102" class="line"></span>		<span class="hljs-keyword">if</span> (!options.viewer) {
<span id="line103" class="line"></span>			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'A viewer must be specified.'</span>);
<span id="line104" class="line"></span>		}
<span id="line105" class="line"></span>		<span class="hljs-keyword">if</span> (options.viewer.annoHost) {
<span id="line106" class="line"></span>			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Viewer already has an AnnoHost.'</span>);
<span id="line107" class="line"></span>		}
<span id="line108" class="line"></span>
<span id="line109" class="line"></span>		<span class="hljs-comment">// Call base class constructor</span>
<span id="line110" class="line"></span>		$.ImagingHelper.call(<span class="hljs-keyword">this</span>, options);
<span id="line111" class="line"></span>
<span id="line112" class="line"></span>		<span class="hljs-comment">// Add this object to the Viewer</span>
<span id="line113" class="line"></span>		this._viewer.annoHost = <span class="hljs-keyword">this</span>;
<span id="line114" class="line"></span>
<span id="line115" class="line"></span>		<span class="hljs-comment">// Private</span>
<span id="line116" class="line"></span>		this._osdCanvas = <span class="hljs-literal">null</span>;
<span id="line117" class="line"></span>		this._annotationGrappleWidth = <span class="hljs-number">8</span> | <span class="hljs-number">0</span>;
<span id="line118" class="line"></span>
<span id="line119" class="line"></span>		<span class="hljs-comment">// Wire up event handlers</span>
<span id="line120" class="line"></span>		this.addHandler(
<span id="line121" class="line"></span>			<span class="hljs-string">'image-view-changed'</span>,
<span id="line122" class="line"></span>			OSD.delegate(<span class="hljs-keyword">this</span>, onImageViewChanged)
<span id="line123" class="line"></span>		);
<span id="line124" class="line"></span>		this._viewerInputHook = this._viewer.addViewerInputHook({
<span id="line125" class="line"></span>			hooks: [
<span id="line126" class="line"></span>				{
<span id="line127" class="line"></span>					tracker: <span class="hljs-string">'viewer'</span>,
<span id="line128" class="line"></span>					handler: <span class="hljs-string">'dragHandler'</span>,
<span id="line129" class="line"></span>					hookHandler: OSD.delegate(<span class="hljs-keyword">this</span>, onHookViewerDrag)
<span id="line130" class="line"></span>				},
<span id="line131" class="line"></span>				{
<span id="line132" class="line"></span>					tracker: <span class="hljs-string">'viewer'</span>,
<span id="line133" class="line"></span>					handler: <span class="hljs-string">'enterHandler'</span>,
<span id="line134" class="line"></span>					hookHandler: OSD.delegate(<span class="hljs-keyword">this</span>, onHookViewerEnter)
<span id="line135" class="line"></span>				},
<span id="line136" class="line"></span>				{
<span id="line137" class="line"></span>					tracker: <span class="hljs-string">'viewer'</span>,
<span id="line138" class="line"></span>					handler: <span class="hljs-string">'moveHandler'</span>,
<span id="line139" class="line"></span>					hookHandler: OSD.delegate(<span class="hljs-keyword">this</span>, onHookViewerMove)
<span id="line140" class="line"></span>				},
<span id="line141" class="line"></span>				{
<span id="line142" class="line"></span>					tracker: <span class="hljs-string">'viewer'</span>,
<span id="line143" class="line"></span>					handler: <span class="hljs-string">'exitHandler'</span>,
<span id="line144" class="line"></span>					hookHandler: OSD.delegate(<span class="hljs-keyword">this</span>, onHookViewerExit)
<span id="line145" class="line"></span>				},
<span id="line146" class="line"></span>				{
<span id="line147" class="line"></span>					tracker: <span class="hljs-string">'viewer'</span>,
<span id="line148" class="line"></span>					handler: <span class="hljs-string">'scrollHandler'</span>,
<span id="line149" class="line"></span>					hookHandler: OSD.delegate(<span class="hljs-keyword">this</span>, onHookViewerScroll)
<span id="line150" class="line"></span>				},
<span id="line151" class="line"></span>				{
<span id="line152" class="line"></span>					tracker: <span class="hljs-string">'viewer'</span>,
<span id="line153" class="line"></span>					handler: <span class="hljs-string">'clickHandler'</span>,
<span id="line154" class="line"></span>					hookHandler: OSD.delegate(<span class="hljs-keyword">this</span>, onHookViewerClick)
<span id="line155" class="line"></span>				}
<span id="line156" class="line"></span>			]
<span id="line157" class="line"></span>		});
<span id="line158" class="line"></span>		this._viewer.addHandler(<span class="hljs-string">'open'</span>, OSD.delegate(<span class="hljs-keyword">this</span>, onOpen));
<span id="line159" class="line"></span>		this._viewer.addHandler(<span class="hljs-string">'close'</span>, OSD.delegate(<span class="hljs-keyword">this</span>, onClose));
<span id="line160" class="line"></span>		this._viewer.addHandler(
<span id="line161" class="line"></span>			<span class="hljs-string">'pre-full-page'</span>,
<span id="line162" class="line"></span>			OSD.delegate(<span class="hljs-keyword">this</span>, onPreFullPage)
<span id="line163" class="line"></span>		);
<span id="line164" class="line"></span>		this._viewer.addHandler(<span class="hljs-string">'full-page'</span>, OSD.delegate(<span class="hljs-keyword">this</span>, onFullPage));
<span id="line165" class="line"></span>		this._viewer.addHandler(
<span id="line166" class="line"></span>			<span class="hljs-string">'pre-full-screen'</span>,
<span id="line167" class="line"></span>			OSD.delegate(<span class="hljs-keyword">this</span>, onPreFullScreen)
<span id="line168" class="line"></span>		);
<span id="line169" class="line"></span>		this._viewer.addHandler(
<span id="line170" class="line"></span>			<span class="hljs-string">'full-screen'</span>,
<span id="line171" class="line"></span>			OSD.delegate(<span class="hljs-keyword">this</span>, onFullScreen)
<span id="line172" class="line"></span>		);
<span id="line173" class="line"></span>	};
<span id="line174" class="line"></span>
<span id="line175" class="line"></span>	<span class="hljs-comment">/**
<span id="line176" class="line"></span>	 * AnnoHost version.
<span id="line177" class="line"></span>	 * @member {Object} OpenSeadragonImaging.AnnoHost.version
<span id="line178" class="line"></span>	 * @property {String} versionStr - The version number as a string ('major.minor.revision').
<span id="line179" class="line"></span>	 * @property {Number} major - The major version number.
<span id="line180" class="line"></span>	 * @property {Number} minor - The minor version number.
<span id="line181" class="line"></span>	 * @property {Number} revision - The revision number.
<span id="line182" class="line"></span>	 */</span>
<span id="line183" class="line"></span>	$.AnnoHost.version = {
<span id="line184" class="line"></span>		versionStr: <span class="hljs-string">'2.0.0'</span>
<span id="line185" class="line"></span>	};
<span id="line186" class="line"></span>	<span class="hljs-keyword">var</span> versionSplits = $.AnnoHost.version.versionStr.split(<span class="hljs-string">'.'</span>);
<span id="line187" class="line"></span>	$.AnnoHost.version.major = <span class="hljs-built_in">parseInt</span>(versionSplits[<span class="hljs-number">0</span>], <span class="hljs-number">10</span>);
<span id="line188" class="line"></span>	$.AnnoHost.version.minor = <span class="hljs-built_in">parseInt</span>(versionSplits[<span class="hljs-number">1</span>], <span class="hljs-number">10</span>);
<span id="line189" class="line"></span>	$.AnnoHost.version.revision = <span class="hljs-built_in">parseInt</span>(versionSplits[<span class="hljs-number">2</span>], <span class="hljs-number">10</span>);
<span id="line190" class="line"></span>
<span id="line191" class="line"></span>	<span class="hljs-comment">// Inherit OpenSeadragonImaging.ImagingHelper</span>
<span id="line192" class="line"></span>	$.AnnoHost.prototype = Object.create($.ImagingHelper.prototype);
<span id="line193" class="line"></span>	Object.defineProperty($.AnnoHost.prototype, <span class="hljs-string">'constructor'</span>, {
<span id="line194" class="line"></span>		enumerable: <span class="hljs-literal">false</span>,
<span id="line195" class="line"></span>		value: $.AnnoHost
<span id="line196" class="line"></span>	});
<span id="line197" class="line"></span>
<span id="line198" class="line"></span>	<span class="hljs-comment">// Properties</span>
<span id="line199" class="line"></span>	Object.defineProperties($.AnnoHost.prototype, {
<span id="line200" class="line"></span>		<span class="hljs-comment">/**
<span id="line201" class="line"></span>		 * Gets the image's native width in pixels.
<span id="line202" class="line"></span>		 * @member {Number} dataWidth
<span id="line203" class="line"></span>		 * @memberof OpenSeadragonImaging.AnnoHost#
<span id="line204" class="line"></span>		 *
<span id="line205" class="line"></span>		 **/</span>
<span id="line206" class="line"></span>		dataWidth: {
<span id="line207" class="line"></span>			get: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
<span id="line208" class="line"></span>				<span class="hljs-keyword">return</span> this.imgWidth;
<span id="line209" class="line"></span>			},
<span id="line210" class="line"></span>			enumerable: <span class="hljs-literal">true</span>,
<span id="line211" class="line"></span>			configurable: <span class="hljs-literal">true</span>
<span id="line212" class="line"></span>		},
<span id="line213" class="line"></span>		<span class="hljs-comment">/**
<span id="line214" class="line"></span>		 * Gets the image's native height in pixels.
<span id="line215" class="line"></span>		 * @member {Number} dataHeight
<span id="line216" class="line"></span>		 * @memberof OpenSeadragonImaging.AnnoHost#
<span id="line217" class="line"></span>		 *
<span id="line218" class="line"></span>		 **/</span>
<span id="line219" class="line"></span>		dataHeight: {
<span id="line220" class="line"></span>			get: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
<span id="line221" class="line"></span>				<span class="hljs-keyword">return</span> this.imgHeight;
<span id="line222" class="line"></span>			},
<span id="line223" class="line"></span>			enumerable: <span class="hljs-literal">true</span>,
<span id="line224" class="line"></span>			configurable: <span class="hljs-literal">true</span>
<span id="line225" class="line"></span>		},
<span id="line226" class="line"></span>		<span class="hljs-comment">/**
<span id="line227" class="line"></span>		 * Gets the dimensions of annotation UI grapples in pixels.
<span id="line228" class="line"></span>		 * @member {Number} annotationGrappleWidth
<span id="line229" class="line"></span>		 * @memberof OpenSeadragonImaging.AnnoHost#
<span id="line230" class="line"></span>		 *
<span id="line231" class="line"></span>		 **/</span>
<span id="line232" class="line"></span>		annotationGrappleWidth: {
<span id="line233" class="line"></span>			get: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
<span id="line234" class="line"></span>				<span class="hljs-keyword">return</span> this._annotationGrappleWidth;
<span id="line235" class="line"></span>			},
<span id="line236" class="line"></span>			enumerable: <span class="hljs-literal">true</span>,
<span id="line237" class="line"></span>			configurable: <span class="hljs-literal">true</span>
<span id="line238" class="line"></span>		}
<span id="line239" class="line"></span>	});
<span id="line240" class="line"></span>
<span id="line241" class="line"></span>	<span class="hljs-comment">// Methods</span>
<span id="line242" class="line"></span>	OSD.extend(
<span id="line243" class="line"></span>		$.AnnoHost.prototype,
<span id="line244" class="line"></span>		<span class="hljs-comment">/** @lends OpenSeadragonImaging.AnnoHost.prototype */</span>
<span id="line245" class="line"></span>		{
<span id="line246" class="line"></span>			<span class="hljs-comment">/**
<span id="line247" class="line"></span>			 * TEST.
<span id="line248" class="line"></span>			 * @method
<span id="line249" class="line"></span>			 * @returns {number}
<span id="line250" class="line"></span>			 *
<span id="line251" class="line"></span>			 **/</span>
<span id="line252" class="line"></span>			testMethod: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
<span id="line253" class="line"></span>				<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
<span id="line254" class="line"></span>			},
<span id="line255" class="line"></span>
<span id="line256" class="line"></span>			<span class="hljs-comment">/**
<span id="line257" class="line"></span>			 * Called by Annotation objects when editing starts.
<span id="line258" class="line"></span>			 * @method
<span id="line259" class="line"></span>			 * @param {OpenSeadragonImaging.Annotation} annotation
<span id="line260" class="line"></span>			 *
<span id="line261" class="line"></span>			 **/</span>
<span id="line262" class="line"></span>			notifyAnnotationTrackingEditStarted: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(annotation)</span> {</span>
<span id="line263" class="line"></span>				annotation = annotation || <span class="hljs-literal">null</span>;
<span id="line264" class="line"></span>			}
<span id="line265" class="line"></span>		}
<span id="line266" class="line"></span>	);
<span id="line267" class="line"></span>
<span id="line268" class="line"></span>	<span class="hljs-comment">/*
<span id="line269" class="line"></span>	 * @private
<span id="line270" class="line"></span>	 * @method
<span id="line271" class="line"></span>	 *
<span id="line272" class="line"></span>	 **/</span>
<span id="line273" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onOpen</span><span class="hljs-params">()</span> {</span>
<span id="line274" class="line"></span>		<span class="hljs-comment">//this._haveImage = true;</span>
<span id="line275" class="line"></span>		this._osdCanvas = this._viewer.canvas;
<span id="line276" class="line"></span>	}
<span id="line277" class="line"></span>
<span id="line278" class="line"></span>	<span class="hljs-comment">/*
<span id="line279" class="line"></span>	 * @private
<span id="line280" class="line"></span>	 * @method
<span id="line281" class="line"></span>	 *
<span id="line282" class="line"></span>	 **/</span>
<span id="line283" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onClose</span><span class="hljs-params">()</span> {</span>
<span id="line284" class="line"></span>		<span class="hljs-comment">//this._haveImage = false;</span>
<span id="line285" class="line"></span>		this._osdCanvas = <span class="hljs-literal">null</span>;
<span id="line286" class="line"></span>	}
<span id="line287" class="line"></span>
<span id="line288" class="line"></span>	<span class="hljs-comment">/*
<span id="line289" class="line"></span>	 * @private
<span id="line290" class="line"></span>	 * @method
<span id="line291" class="line"></span>	 *
<span id="line292" class="line"></span>	 **/</span>
<span id="line293" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onImageViewChanged</span><span class="hljs-params">()</span> {</span>
<span id="line294" class="line"></span>		<span class="hljs-comment">// Raised whenever the viewer's zoom or pan changes and the ImagingHelper's properties have been updated.</span>
<span id="line295" class="line"></span>		<span class="hljs-comment">// event.viewportWidth == width of viewer viewport in logical coordinates relative to image native size</span>
<span id="line296" class="line"></span>		<span class="hljs-comment">// event.viewportHeight == height of viewer viewport in logical coordinates relative to image native size</span>
<span id="line297" class="line"></span>		<span class="hljs-comment">// event.viewportOrigin == OpenSeadragon.Point, top-left of the viewer viewport in logical coordinates relative to image</span>
<span id="line298" class="line"></span>		<span class="hljs-comment">// event.viewportCenter == OpenSeadragon.Point, center of the viewer viewport in logical coordinates relative to image</span>
<span id="line299" class="line"></span>		<span class="hljs-comment">// event.zoomFactor == current zoom factor</span>
<span id="line300" class="line"></span>	}
<span id="line301" class="line"></span>
<span id="line302" class="line"></span>	<span class="hljs-comment">/*
<span id="line303" class="line"></span>	 * @private
<span id="line304" class="line"></span>	 * @method
<span id="line305" class="line"></span>	 *
<span id="line306" class="line"></span>	 **/</span>
<span id="line307" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onPreFullPage</span><span class="hljs-params">(event)</span> {</span>
<span id="line308" class="line"></span>		<span class="hljs-comment">// set event.preventDefaultAction = true to prevent viewer's default action</span>
<span id="line309" class="line"></span>		<span class="hljs-keyword">if</span> (event.fullPage) {
<span id="line310" class="line"></span>			<span class="hljs-comment">// Going to full-page mode</span>
<span id="line311" class="line"></span>		}
<span id="line312" class="line"></span>	}
<span id="line313" class="line"></span>
<span id="line314" class="line"></span>	<span class="hljs-comment">/*
<span id="line315" class="line"></span>	 * @private
<span id="line316" class="line"></span>	 * @method
<span id="line317" class="line"></span>	 *
<span id="line318" class="line"></span>	 **/</span>
<span id="line319" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onFullPage</span><span class="hljs-params">(event)</span> {</span>
<span id="line320" class="line"></span>		<span class="hljs-keyword">if</span> (!event.fullPage) {
<span id="line321" class="line"></span>			<span class="hljs-comment">// Exited full-page mode</span>
<span id="line322" class="line"></span>		}
<span id="line323" class="line"></span>	}
<span id="line324" class="line"></span>
<span id="line325" class="line"></span>	<span class="hljs-comment">/*
<span id="line326" class="line"></span>	 * @private
<span id="line327" class="line"></span>	 * @method
<span id="line328" class="line"></span>	 *
<span id="line329" class="line"></span>	 **/</span>
<span id="line330" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onPreFullScreen</span><span class="hljs-params">(event)</span> {</span>
<span id="line331" class="line"></span>		<span class="hljs-comment">// set event.preventDefaultAction = true to prevent viewer's default action</span>
<span id="line332" class="line"></span>		<span class="hljs-keyword">if</span> (event.fullScreen) {
<span id="line333" class="line"></span>			<span class="hljs-comment">// Going to full-screen mode</span>
<span id="line334" class="line"></span>		}
<span id="line335" class="line"></span>	}
<span id="line336" class="line"></span>
<span id="line337" class="line"></span>	<span class="hljs-comment">/*
<span id="line338" class="line"></span>	 * @private
<span id="line339" class="line"></span>	 * @method
<span id="line340" class="line"></span>	 *
<span id="line341" class="line"></span>	 **/</span>
<span id="line342" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onFullScreen</span><span class="hljs-params">(event)</span> {</span>
<span id="line343" class="line"></span>		<span class="hljs-keyword">if</span> (!event.fullScreen) {
<span id="line344" class="line"></span>			<span class="hljs-comment">// Exited full-screen mode</span>
<span id="line345" class="line"></span>		}
<span id="line346" class="line"></span>	}
<span id="line347" class="line"></span>
<span id="line348" class="line"></span>	<span class="hljs-comment">/*
<span id="line349" class="line"></span>	 * @private
<span id="line350" class="line"></span>	 * @method
<span id="line351" class="line"></span>	 *
<span id="line352" class="line"></span>	 **/</span>
<span id="line353" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onHookViewerDrag</span><span class="hljs-params">()</span> {</span>
<span id="line354" class="line"></span>		<span class="hljs-comment">// set event.stopHandlers = true to prevent any more handlers in the chain from being called</span>
<span id="line355" class="line"></span>		<span class="hljs-comment">// set event.stopBubbling = true to prevent the original event from bubbling</span>
<span id="line356" class="line"></span>		<span class="hljs-comment">// set event.preventDefaultAction = true to prevent viewer's default action</span>
<span id="line357" class="line"></span>	}
<span id="line358" class="line"></span>
<span id="line359" class="line"></span>	<span class="hljs-comment">/*
<span id="line360" class="line"></span>	 * @private
<span id="line361" class="line"></span>	 * @method
<span id="line362" class="line"></span>	 *
<span id="line363" class="line"></span>	 **/</span>
<span id="line364" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onHookViewerEnter</span><span class="hljs-params">()</span> {</span>
<span id="line365" class="line"></span>		<span class="hljs-comment">// set event.stopHandlers = true to prevent any more handlers in the chain from being called</span>
<span id="line366" class="line"></span>		<span class="hljs-comment">// set event.stopBubbling = true to prevent the original event from bubbling</span>
<span id="line367" class="line"></span>		<span class="hljs-comment">// set event.preventDefaultAction = true to prevent viewer's default action</span>
<span id="line368" class="line"></span>	}
<span id="line369" class="line"></span>
<span id="line370" class="line"></span>	<span class="hljs-comment">/*
<span id="line371" class="line"></span>	 * @private
<span id="line372" class="line"></span>	 * @method
<span id="line373" class="line"></span>	 *
<span id="line374" class="line"></span>	 **/</span>
<span id="line375" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onHookViewerMove</span><span class="hljs-params">()</span> {</span>
<span id="line376" class="line"></span>		<span class="hljs-comment">// set event.stopHandlers = true to prevent any more handlers in the chain from being called</span>
<span id="line377" class="line"></span>		<span class="hljs-comment">// set event.stopBubbling = true to prevent the original event from bubbling</span>
<span id="line378" class="line"></span>		<span class="hljs-comment">// set event.preventDefaultAction = true to prevent viewer's default action</span>
<span id="line379" class="line"></span>	}
<span id="line380" class="line"></span>
<span id="line381" class="line"></span>	<span class="hljs-comment">/*
<span id="line382" class="line"></span>	 * @private
<span id="line383" class="line"></span>	 * @method
<span id="line384" class="line"></span>	 *
<span id="line385" class="line"></span>	 **/</span>
<span id="line386" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onHookViewerExit</span><span class="hljs-params">()</span> {</span>
<span id="line387" class="line"></span>		<span class="hljs-comment">// set event.stopHandlers = true to prevent any more handlers in the chain from being called</span>
<span id="line388" class="line"></span>		<span class="hljs-comment">// set event.stopBubbling = true to prevent the original event from bubbling</span>
<span id="line389" class="line"></span>		<span class="hljs-comment">// set event.preventDefaultAction = true to prevent viewer's default action</span>
<span id="line390" class="line"></span>	}
<span id="line391" class="line"></span>
<span id="line392" class="line"></span>	<span class="hljs-comment">/*
<span id="line393" class="line"></span>	 * @private
<span id="line394" class="line"></span>	 * @method
<span id="line395" class="line"></span>	 *
<span id="line396" class="line"></span>	 **/</span>
<span id="line397" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onHookViewerScroll</span><span class="hljs-params">()</span> {</span>
<span id="line398" class="line"></span>		<span class="hljs-comment">// set event.stopHandlers = true to prevent any more handlers in the chain from being called</span>
<span id="line399" class="line"></span>		<span class="hljs-comment">// set event.stopBubbling = true to prevent the original event from bubbling</span>
<span id="line400" class="line"></span>		<span class="hljs-comment">// set event.preventDefaultAction = true to prevent viewer's default action</span>
<span id="line401" class="line"></span>	}
<span id="line402" class="line"></span>
<span id="line403" class="line"></span>	<span class="hljs-comment">/*
<span id="line404" class="line"></span>	 * @private
<span id="line405" class="line"></span>	 * @method
<span id="line406" class="line"></span>	 *
<span id="line407" class="line"></span>	 **/</span>
<span id="line408" class="line"></span>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onHookViewerClick</span><span class="hljs-params">()</span> {</span>
<span id="line409" class="line"></span>		<span class="hljs-comment">// set event.stopHandlers = true to prevent any more handlers in the chain from being called</span>
<span id="line410" class="line"></span>		<span class="hljs-comment">// set event.stopBubbling = true to prevent the original event from bubbling</span>
<span id="line411" class="line"></span>		<span class="hljs-comment">// set event.preventDefaultAction = true to prevent viewer's default action</span>
<span id="line412" class="line"></span>	}
<span id="line413" class="line"></span>})(
<span id="line414" class="line"></span>	OpenSeadragon,
<span id="line415" class="line"></span>	(window.OpenSeadragonImaging = window.OpenSeadragonImaging || {})
<span id="line416" class="line"></span>);
<span id="line417" class="line"></span>
<span id="line418" class="line"></span><span class="hljs-comment">/*
<span id="line419" class="line"></span> * Copyright (c) 2013-2014 Mark Salsbery
<span id="line420" class="line"></span> *
<span id="line421" class="line"></span> * Permission is hereby granted, free of charge, to any person obtaining a copy of
<span id="line422" class="line"></span> * this software and associated documentation files (the "Software"), to deal in
<span id="line423" class="line"></span> * the Software without restriction, including without limitation the rights to
<span id="line424" class="line"></span> * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
<span id="line425" class="line"></span> * the Software, and to permit persons to whom the Software is furnished to do so,
<span id="line426" class="line"></span> * subject to the following conditions:
<span id="line427" class="line"></span> *
<span id="line428" class="line"></span> * The above copyright notice and this permission notice shall be included in all
<span id="line429" class="line"></span> * copies or substantial portions of the Software.
<span id="line430" class="line"></span> *
<span id="line431" class="line"></span> * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
<span id="line432" class="line"></span> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
<span id="line433" class="line"></span> * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
<span id="line434" class="line"></span> * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
<span id="line435" class="line"></span> * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
<span id="line436" class="line"></span> * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
<span id="line437" class="line"></span> */</span>
<span id="line438" class="line"></span>
<span id="line439" class="line"></span><span class="hljs-comment">/* global OpenSeadragon */</span>
<span id="line440" class="line"></span>
<span id="line441" class="line"></span>(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(OSD, $, undefined)</span> {</span>
<span id="line442" class="line"></span>	<span class="hljs-comment">/**
<span id="line443" class="line"></span>	 * Base class for all annotations.
<span id="line444" class="line"></span>	 *
<span id="line445" class="line"></span>	 * @class Annotation
<span id="line446" class="line"></span>	 * @classdesc Base class for all annotations.
<span id="line447" class="line"></span>	 * @memberof OpenSeadragonImaging
<span id="line448" class="line"></span>	 * @param {Object} options
<span id="line449" class="line"></span>	 *
<span id="line450" class="line"></span>	 **/</span>
<span id="line451" class="line"></span>	$.Annotation = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(options)</span> {</span>
<span id="line452" class="line"></span>		options = options || {};
<span id="line453" class="line"></span>
<span id="line454" class="line"></span>		this._annoHost = <span class="hljs-literal">null</span>;
<span id="line455" class="line"></span>	};
<span id="line456" class="line"></span>
<span id="line457" class="line"></span>	OSD.extend(
<span id="line458" class="line"></span>		$.Annotation.prototype,
<span id="line459" class="line"></span>		<span class="hljs-comment">/** @lends OpenSeadragonImaging.Annotation.prototype */</span>
<span id="line460" class="line"></span>		{}
<span id="line461" class="line"></span>	);
<span id="line462" class="line"></span>
<span id="line463" class="line"></span>	<span class="hljs-comment">/*
<span id="line464" class="line"></span>	 * @private
<span id="line465" class="line"></span>	 * @method
<span id="line466" class="line"></span>	 *
<span id="line467" class="line"></span>	 **/</span>
<span id="line468" class="line"></span>	<span class="hljs-comment">//function onOpen() {</span>
<span id="line469" class="line"></span>	<span class="hljs-comment">//}</span>
<span id="line470" class="line"></span>})(
<span id="line471" class="line"></span>	OpenSeadragon,
<span id="line472" class="line"></span>	(window.OpenSeadragonImaging = window.OpenSeadragonImaging || {})
<span id="line473" class="line"></span>);
<span id="line474" class="line"></span></code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Externals</h3><ul><li><a href="external-_OpenSeadragon.EventSource_.html">OpenSeadragon.EventSource</a></li><li><a href="external-_OpenSeadragon.Point_.html">OpenSeadragon.Point</a></li><li><a href="external-_OpenSeadragon.Rect_.html">OpenSeadragon.Rect</a></li><li><a href="external-_OpenSeadragon.Viewer_.html">OpenSeadragon.Viewer</a></li><li><a href="external-OpenSeadragon.html">OpenSeadragon</a></li></ul><h3>Modules</h3><ul><li><a href="module-openseadragon-annohost.html">openseadragon-annohost</a></li></ul><h3>Namespaces</h3><ul><li><a href="OpenSeadragonImaging.html">OpenSeadragonImaging</a></li></ul><h3>Classes</h3><ul><li><a href="OpenSeadragonImaging.AnnoHost.html">AnnoHost</a></li><li><a href="OpenSeadragonImaging.Annotation.html">Annotation</a></li></ul>
</nav>

<br clear="both">

<footer>
    OpenSeadragonImaging documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Dec 26 2018 13:26:25 GMT-0800 (Pacific Standard Time)
</footer>
</div>

</body>
</html>
