//! openseadragon-annohost 2.0.0
//! Build date: 2019-01-14
//! Git commit: v2.0.0-2-0cc71c1-dirty
//! https://github.com/msalsbery/OpenSeadragonAnnoHost

!function(n,t,e){"use strict";if(!n.version||n.version.major<1)throw new Error("OpenSeadragon.Annotations requires OpenSeadragon version 1.0.0+");n.Viewer.prototype.activateAnnoHost=function(e){this.annoHost||(((e=e||{}).viewer=this).annoHost=new t.AnnoHost(e));return this.annoHost};t.AnnoHost=function(e){e=e||{};if("function"!=typeof n.Viewer.prototype.activateImagingHelper)throw new Error("OpenSeadragon.Annotations.AnnoHost requires the OpenSeadragonImagingHelper plugin.");if(!t.ImagingHelper.version||t.ImagingHelper.version.major<2)throw new Error("OpenSeadragon.Annotations.AnnoHost requires OpenSeadragonImagingHelper plugin version 2.0.0+");if("function"!=typeof n.Viewer.prototype.addViewerInputHook)throw new Error("OpenSeadragon.Annotations.AnnoHost requires the OpenSeadragonViewerInputHook plugin.");if(!t.ViewerInputHook.version||t.ViewerInputHook.version.major<2)throw new Error("OpenSeadragon.Annotations.AnnoHost requires OpenSeadragonViewerInputHook plugin version 2.0.0+");if(!e.viewer)throw new Error("A viewer must be specified.");if(e.viewer.annoHost)throw new Error("Viewer already has an AnnoHost.");t.ImagingHelper.call(this,e);(this._viewer.annoHost=this)._osdCanvas=null;this._annotationGrappleWidth=8;this.addHandler("image-view-changed",n.delegate(this,a));this._viewerInputHook=this._viewer.addViewerInputHook({hooks:[{tracker:"viewer",handler:"dragHandler",hookHandler:n.delegate(this,p)},{tracker:"viewer",handler:"enterHandler",hookHandler:n.delegate(this,h)},{tracker:"viewer",handler:"moveHandler",hookHandler:n.delegate(this,u)},{tracker:"viewer",handler:"exitHandler",hookHandler:n.delegate(this,c)},{tracker:"viewer",handler:"scrollHandler",hookHandler:n.delegate(this,w)},{tracker:"viewer",handler:"clickHandler",hookHandler:n.delegate(this,H)}]});this._viewer.addHandler("open",n.delegate(this,r));this._viewer.addHandler("close",n.delegate(this,i));this._viewer.addHandler("pre-full-page",n.delegate(this,s));this._viewer.addHandler("full-page",n.delegate(this,l));this._viewer.addHandler("pre-full-screen",n.delegate(this,d));this._viewer.addHandler("full-screen",n.delegate(this,g));this._svg=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("class","osdi-annohost-svg");e.style.position="absolute";e.style.left=0;e.style.top=0;e.style.width="100%";e.style.height="100%";e.style.margin=0;e.style.padding=0;e.style.overflow="hidden";e.style.clip="auto";e.style.pointerEvents="all";e.style.zoomAndPan="disable";return e}();this._viewer.canvas.appendChild(this._svg)};t.AnnoHost.version={versionStr:"2.0.0"};var o=t.AnnoHost.version.versionStr.split(".");t.AnnoHost.version.major=parseInt(o[0],10);t.AnnoHost.version.minor=parseInt(o[1],10);t.AnnoHost.version.revision=parseInt(o[2],10);t.AnnoHost.prototype=Object.create(t.ImagingHelper.prototype);Object.defineProperty(t.AnnoHost.prototype,"constructor",{enumerable:!1,value:t.AnnoHost});Object.defineProperties(t.AnnoHost.prototype,{dataWidth:{get:function(){return this.imgWidth},enumerable:!0,configurable:!0},dataHeight:{get:function(){return this.imgHeight},enumerable:!0,configurable:!0},annotationGrappleWidth:{get:function(){return this._annotationGrappleWidth},enumerable:!0,configurable:!0}});n.extend(t.AnnoHost.prototype,{testMethod:function(){return 0},notifyAnnotationTrackingEditStarted:function(e){e=e||null}});function r(){this._osdCanvas=this._viewer.canvas}function i(){this._osdCanvas=null}function a(){}function s(e){e.fullPage}function l(e){e.fullPage}function d(e){e.fullScreen}function g(e){e.fullScreen}function p(){}function h(){}function u(){}function c(){}function w(){}function H(){}}(OpenSeadragon,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{});!function(e,n,t){"use strict";n.Annotation=function(e){e=e||{};this._annoHost=null};e.extend(n.Annotation.prototype,{})}(OpenSeadragon,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{});